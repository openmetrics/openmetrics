<% javascript('webtest') %>

<div class="row">


  <!-- left column, top column when mobile -->
  <div class="col-md-8">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3>
          <%= raw badge "TestPlan", 'primary' %>
          <%= link_to "#{@test_plan.name}", @test_plan %>
        </h3>
      </div>
      <div class="panel-body">
        <%#= @test_execution.inspect %>
        <p><%= @test_plan.description %></p>
        <%= render partial: 'shared/test_plan', locals: { tp: @test_plan, te_items: @test_execution.test_execution_items } %>
      </div>
    </div>
  </div>

  <!-- right column, top column when mobile -->
  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-body">
        <h3>Result</h3>
        Base URL: <%= @test_execution.test_plan.base_url %><br>
        <small>Test execution requested <%= time_ago_in_words(@test_execution.created_at) %> ago.</small><br>
        <%= test_execution_status(@test_execution) %><br>
        <% if @test_execution.status > 10 %>
            Duration: <%= @test_execution.duration.nil? ? 'not yet decided' : "#{@test_execution.duration} seconds" %><br>
            Exit Status: <%= @test_execution.test_execution_result.exitstatus.nil? ? "not yet decided" : @test_execution.test_execution_result.exitstatus %>
        <% else %>
            There is no result yet.
        <% end %>
      </div>
    </div>
    <%#= @test_execution.test_execution_result.inspect %>
  </div>

</div>